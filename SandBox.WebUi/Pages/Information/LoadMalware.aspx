<%@ Page Title="" Language="C#" MasterPageFile="~/Main.master" AutoEventWireup="true" CodeBehind="LoadMalware.aspx.cs" Inherits="SandBox.WebUi.Pages.Information.LoadMalware" %>
<asp:Content ID="Content1" ContentPlaceHolderID="MainContent" runat="server">
<link rel="stylesheet" type="text/css" href="../../Content/PageView.css"  />

<script type="text/javascript">
    function UpdateUploadButton() {
        btnUpload.SetEnabled(uploader.GetText(0) != "");
    }

    function Uploader_OnUploadStart() {
        btnUpload.SetEnabled(false);
    }
    function Uploader_OnFileUploadComplete(args) {
        if (args.isValid) 
        {
            //popup_upload.Hide();
            UpdateUploadButton();
        }
    }
</script>

<div id='page_header'>
    Загрузка нового ВПО на сервер
</div>

<table class='panel'>
			<tbody>
                <tr>
                  <td class='panel-left'>
                      <div class='panel-text'>
                        <dx:ASPxHyperLink ID="ASPxHyperLink1" runat="server" Text="Назад к списку ВПО" NavigateUrl="~/Pages/Information/MalwareInfo.aspx">
                        </dx:ASPxHyperLink>
                      </div>
                  </td>
                </tr>
			</tbody>
</table>

<table class='form'>
			<tbody>
                <tr>
                  <td><div class="simple_text">Файл для загрузки:</div></td>
                  <td>
                      <dx:ASPxUploadControl ID="UploadControl" ClientInstanceName="uploader" runat="server" ShowProgressPanel="True"
                          NullText="Нажмите, чтобы выбрать файл..." Size="35" OnFileUploadComplete="FileUploadComplete">
                                        <ClientSideEvents FileUploadComplete="function(s, e) { Uploader_OnFileUploadComplete(e); }"
                                                FileUploadStart="function(s, e) { Uploader_OnUploadStart(); }">
                                        </ClientSideEvents>
                                    </dx:ASPxUploadControl>
                  </td>
                </tr>
                <tr>
                  <td></td>
                  <td>
                      <dx:ASPxButton ID="btnUpload" ClientInstanceName="btnUpload" runat="server" Text="Загрузить" ValidationGroup="UploadValidationGroup" AutoPostBack="false">
                        <ClientSideEvents Click="function(s, e) { uploader.Upload(); }"  />
                      </dx:ASPxButton>
                  </td>
                </tr>
			</tbody>
</table>


</asp:Content>

